{"version":3,"sources":["lib/prismic.ts","pages/Mural/index.tsx"],"names":["apiEndpoint","client","req","options","Prismic","MuralGrid","lazy","MuralCard","Mural","useState","posts","setPosts","history","useHistory","useEffect","a","query","Predicates","at","response","results","fetchData","map","post","PrismicDOM","RichText","asText","data","title","src","thumbnail","url","width","alt","onClick","push","uid","id"],"mappings":"4GAAA,+CAEaA,EAAc,yCAEdC,EAAS,WAAiB,IAAhBC,EAAe,uDAAT,KACrBC,EAAUD,EAAM,CAAEA,OAAQ,KAChC,OAAOE,IAAQH,OAAOD,EAAaG,K,6ICE/BE,EAAYC,gBAAK,kBAAM,wDACvBC,EAAYD,gBAAK,kBAAM,kCAiDdE,UA/CD,WACZ,MAA0BC,mBAAqB,IAA/C,mBAAOC,EAAP,KAAcC,EAAd,KACMC,EAAUC,cAchB,OAZAC,qBAAU,YACO,uCAAG,4BAAAC,EAAA,sEACOd,cAASe,MAAM,CACpCZ,IAAQa,WAAWC,GAAG,gBAAiB,gBAFzB,QACVC,EADU,SAKdR,EAASQ,EAASC,SALJ,2CAAH,qDAQfC,KACC,IAGD,cAAChB,EAAD,UACGK,EACC,mCACGA,EAAMY,KAAI,SAAAC,GACT,OACE,mCACE,eAAChB,EAAD,WACE,6BAAKiB,IAAWC,SAASC,OAAOH,EAAKI,KAAKC,SAC1C,qBACEC,IAAKN,EAAKI,KAAKG,UAAUC,IACzBC,MAAM,MACNC,IAAI,sBAEN,cAAC,IAAD,CACEC,QAAS,kBAAMtB,EAAQuB,KAAR,sBAA4BZ,EAAKa,OADlD,uBAPcb,EAAKc,WAkB7B","file":"static/js/3.870049e7.chunk.js","sourcesContent":["import Prismic from '@prismicio/client';\n\nexport const apiEndpoint = 'https://e-leonor.cdn.prismic.io/api/v2';\n\nexport const client = (req = null) => {\n  const options = req ? { req } : null;\n  return Prismic.client(apiEndpoint, options);\n};\n","import Prismic from '@prismicio/client';\nimport { lazy, useEffect, useState } from 'react';\nimport { Document } from '@prismicio/client/types/documents';\nimport PrismicDOM from 'prismic-dom';\nimport { useHistory } from 'react-router-dom';\nimport { client } from '../../lib/prismic';\nimport { Button } from '../../common/Button';\n\nconst MuralGrid = lazy(() => import('../../components/MuralGrid'));\nconst MuralCard = lazy(() => import('../../components/MuralGrid/MuralCard'));\n\nconst Mural = () => {\n  const [posts, setPosts] = useState<Document[]>([]);\n  const history = useHistory();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await client().query([\n        Prismic.Predicates.at('document.type', 'mural_post'),\n      ]);\n      if (response) {\n        setPosts(response.results);\n      }\n    };\n    fetchData();\n  }, []);\n\n  return (\n    <MuralGrid>\n      {posts ? (\n        <>\n          {posts.map(post => {\n            return (\n              <>\n                <MuralCard key={post.id}>\n                  <h4>{PrismicDOM.RichText.asText(post.data.title)}</h4>\n                  <img\n                    src={post.data.thumbnail.url}\n                    width=\"200\"\n                    alt=\"camiseta_frontend\"\n                  />\n                  <Button\n                    onClick={() => history.push(`/mural/post/${post.uid}`)}\n                  >\n                    Acessar\n                  </Button>\n                </MuralCard>\n              </>\n            );\n          })}\n        </>\n      ) : (\n        <h1>Carregando postagens...</h1>\n      )}\n    </MuralGrid>\n  );\n};\n\nexport default Mural;\n"],"sourceRoot":""}